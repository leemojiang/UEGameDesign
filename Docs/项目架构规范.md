ä¸‹é¢æ˜¯ä¸€ä»½**å¯ç›´æ¥æ”¾è¿›ä½ é¡¹ç›®ä»“åº“çš„ READMEï¼ˆè§„èŒƒè®¾è®¡æ–‡æ¡£ï¼‰**ã€‚  
å®ƒæ€»ç»“äº†æˆ‘ä»¬ä¹‹å‰æ‰€æœ‰çš„è®¨è®ºï¼Œå¹¶ç”¨**å…·ä½“ç¤ºä¾‹**è¯´æ˜æ¨¡å—ç»„ç»‡ã€æ¥å£åˆ†ç±»ã€UML æ–‡ä»¶ç»“æ„ã€é¡¹ç›®è·¯å¾„ç»“æ„ç­‰å†…å®¹ã€‚  
å†…å®¹é£æ ¼åå·¥ç¨‹åŒ–ã€å¯ç»´æŠ¤ã€å¯æ‰©å±•ï¼Œé€‚åˆä½œä¸ºå›¢é˜Ÿåä½œçš„åŸºç¡€è§„èŒƒã€‚

---

# ğŸ® é¡¹ç›®æ¶æ„è§„èŒƒæ–‡æ¡£ï¼ˆREADMEï¼‰

æœ¬é¡¹ç›®é‡‡ç”¨**æ¨¡å—åŒ– + åˆ†å±‚æ¶æ„ï¼ˆLayered Architectureï¼‰**ï¼Œä»¥ä¿è¯å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ã€ä½è€¦åˆæ€§å’Œæ¸…æ™°çš„ UML æ–‡æ¡£ç»“æ„ã€‚

æ–‡æ¡£å†…å®¹åŒ…æ‹¬ï¼š

- é¡¹ç›®æ•´ä½“ç»“æ„  
- æ¨¡å—ç»„ç»‡è§„èŒƒ  
- æ¥å£ï¼ˆInterfaceï¼‰åˆ†ç±»è§„åˆ™  
- UI å±‚ç»„ç»‡æ–¹å¼  
- UML æ–‡ä»¶ç»„ç»‡æ–¹å¼  
- ç¤ºä¾‹ï¼šWeapons / Vehicles / Turrets / PlayerControl  
- ç¤ºä¾‹ï¼šæ¥å£ IEquipableã€IPlayerControllableObject çš„å½’å±åˆ¤æ–­  

---

# ğŸ§± 1. é¡¹ç›®æ•´ä½“ç»“æ„ï¼ˆProject Structureï¼‰

é¡¹ç›®é‡‡ç”¨ä¸‰å±‚ç»“æ„ï¼š

```
Core Layer      â€”â€” å…¨å±€åŸºç¡€ç±»å‹ã€å·¥å…·ã€Subsystem
Gameplay Layer  â€”â€” å„ç‹¬ç«‹æ¨¡å—ï¼ˆWeapons / Vehicles / Turrets / Seats / Itemsï¼‰
UI Layer        â€”â€” è¡¨ç°å±‚ï¼Œä¸æ¨¡å—ä¸€ä¸€å¯¹åº”ä½†ä¸æ”¾åœ¨æ¨¡å—å†…éƒ¨
```

æ¨èçš„è·¯å¾„ç»“æ„å¦‚ä¸‹ï¼š

```
/Game
    /Core
    /Modules
        /Weapons
        /Vehicles
        /Turrets
        /Seats
        /Items
    /UI
        /Common
        /Weapons
        /Vehicles
        /Turrets
```

---

# ğŸ§© 2. æ¨¡å—ç»„ç»‡è§„èŒƒï¼ˆModule Structureï¼‰

æ¯ä¸ªæ¨¡å—å†…éƒ¨é‡‡ç”¨ç»Ÿä¸€ç»“æ„ï¼š

```
/Modules/<ModuleName>
    /Actors
    /Components
    /Interfaces
    /Data
    /Animations
    /FX
    /Tests
```

ç¤ºä¾‹ï¼šWeapons æ¨¡å—

```
/Modules/Weapons
    /Actors
        BP_WeaponBase
        BP_Rifle
    /Components
        WeaponFireComponent
        WeaponReloadComponent
        WeaponSpreadComponent
        WeaponAmmoComponent
    /Interfaces
        IWeapon
        IWeaponOwner
    /Data
        DT_WeaponStats
        WeaponConfig
```

ç¤ºä¾‹ï¼šVehicles æ¨¡å—

```
/Modules/Vehicles
    /Actors
        BP_VehicleBase
        BP_Tank
    /Components
        VehicleMovementComponent
        VehicleFuelComponent
    /Interfaces
        IVehicle
        IVehicleDriver
    /Data
        DT_VehicleStats
```

---

# ğŸ¯ 3. æ¥å£åˆ†ç±»è§„èŒƒï¼ˆInterface Rulesï¼‰

æ¥å£åˆ†ä¸ºä¸¤ç±»ï¼š

## 3.1 æ¨¡å—å†…éƒ¨æ¥å£ï¼ˆModuleâ€‘Local Interfaceï¼‰

æ»¡è¶³ä»¥ä¸‹ä»»ä¸€æ¡ä»¶ï¼š

- åªè¢«è¯¥æ¨¡å—å†…éƒ¨ä½¿ç”¨  
- æè¿°æ¨¡å—å†…éƒ¨çš„æŠ½è±¡  
- ä¸ä¼šè¢«å…¶ä»–æ¨¡å—ä¾èµ–  

ç¤ºä¾‹ï¼š

```
IWeaponFireMode
IVehicleEngineState
ISeatOccupancy
```

è¿™äº›æ¥å£æ”¾åœ¨ï¼š

```
/Modules/<ModuleName>/Interfaces
```

---

## 3.2 è·¨æ¨¡å—æ¥å£ï¼ˆGlobal Interfaceï¼‰

æ»¡è¶³ä»¥ä¸‹ä»»ä¸€æ¡ä»¶ï¼š

- å¤šä¸ªæ¨¡å—ä¼šå®ç°  
- æè¿°â€œèƒ½åŠ›ï¼ˆCapabilityï¼‰â€è€Œä¸æ˜¯â€œå®ä½“ï¼ˆEntityï¼‰â€  
- å±äºæ§åˆ¶å±‚æˆ–ç³»ç»Ÿå±‚é€»è¾‘  

ç¤ºä¾‹ï¼š

```
IInteractable
IDamageable
ISaveable
IPlayerControllableObject
```

è¿™äº›æ¥å£æ”¾åœ¨ï¼š

```
/Interfaces
```

---

## 3.3 ç¤ºä¾‹ï¼šIEquipable åº”è¯¥æ”¾å“ªé‡Œï¼Ÿ

### æƒ…å†µ Aï¼šåªæœ‰æ­¦å™¨ä¼šå®ç°  
â†’ æ”¾åœ¨ Weapons æ¨¡å—å†…éƒ¨  
â†’ æˆ–ç›´æ¥å¹¶å…¥ IWeapon

### æƒ…å†µ Bï¼šæœªæ¥ç›”ç”²ã€å·¥å…·ã€æ¨¡ç»„ä¹Ÿä¼šè£…å¤‡  
â†’ æ”¾åˆ°å…¨å±€ Interfaces

---

# ğŸ® 4. PlayerControl ç³»ç»Ÿï¼ˆæ§åˆ¶å±‚ï¼‰

æ§åˆ¶å±‚æ˜¯ç‹¬ç«‹æ¨¡å—ï¼Œä¸å±äº Vehicles æˆ– Weaponsã€‚

```
/Modules/PlayerControl
    /Components
        PlayerInputComponent
        PlayerCameraComponent
        PlayerPossessionComponent
```

è·¨æ¨¡å—æ§åˆ¶èƒ½åŠ›æ¥å£ï¼š

```
IPlayerControllableObject
```

ç¤ºä¾‹æ¥å£ï¼š

```
interface IPlayerControllableObject {
    + OnEnter()
    + OnExit()
    + SwitchPosition()
    + GetChildPosition() : TArray<IPlayerControllableObject>
}
```

å®ç°è€…å¯èƒ½åŒ…æ‹¬ï¼š

- Vehiclesï¼ˆè½½å…·ï¼‰
- Seatsï¼ˆåº§ä½ï¼‰
- Turretsï¼ˆç‚®å¡”ï¼‰
- Charactersï¼ˆè§’è‰²ï¼‰
- Dronesï¼ˆæ— äººæœºï¼‰

---

# ğŸ”§ 5. Turrets æ¨¡å—ï¼ˆè·¨æ¨¡å—ä¸­é—´å±‚ï¼‰

Turret åŒæ—¶ä¸ Weapons å’Œ Vehicles ç›¸å…³ï¼Œå› æ­¤åº”ä½œä¸ºç‹¬ç«‹æ¨¡å—ï¼š

```
/Modules/Turrets
    /Actors
        BP_TurretBase
        BP_TankTurret
    /Components
        TurretRotationComponent
        TurretStabilizerComponent
    /Interfaces
        ITurret
        ITurretController
    /Data
        DT_TurretConfig
```

ä¾èµ–å…³ç³»ï¼š

```
Vehicles â†’ Turrets â†’ Weapons
```

é¿å… Vehicles â†” Weapons çš„å¾ªç¯ä¾èµ–ã€‚

---

# ğŸ¨ 6. UI å±‚ç»„ç»‡è§„èŒƒï¼ˆUI Layerï¼‰

UI ä¸æ”¾åœ¨æ¨¡å—å†…éƒ¨ï¼Œè€Œæ˜¯æ”¾åœ¨ UI å±‚ï¼š

```
/UI
    /Common
    /Weapons
    /Vehicles
    /Turrets
```

ç¤ºä¾‹ï¼š

```
/UI/Weapons
    WBP_WeaponStatus
    WBP_AmmoCounter
    WBP_WeaponIcon
```

UI å±‚ä¾èµ– Gameplay å±‚ï¼Œä½† Gameplay å±‚ä¸ä¾èµ– UIã€‚

---

# ğŸ“ 7. UML æ–‡ä»¶ç»„ç»‡è§„èŒƒï¼ˆUML Structureï¼‰

æ¨èè·¯å¾„ï¼š

```
/Docs/UML
    /Core
    /Modules
        /Weapons
        /Vehicles
        /Turrets
    /UI
    /Interfaces
```

ç¤ºä¾‹ï¼š

```
/Docs/UML/Modules/Weapons
    Weapons_Actors.puml
    Weapons_Components.puml
    Weapons_Data.puml
    Weapons_Interfaces.puml
```

---

# ğŸ“„ 8. ç¤ºä¾‹ï¼šWeapons_Components.puml

```
!include weapon.puml
hide members
hide attributes
hide methods

frame "Handler/Dispatcher" {
    class BP_GenericFireArm
}

frame "Effectors/FX Comps" {
    class BP_RecoilComp
}

frame "Logic & Data Comps"{
    class BP_FireComp
    class BP_SpreadComp 
    class BP_ReloadComp
    class BP_AmmoComp <<DataComps>>

    BP_FireComp ..> BP_AmmoComp : Consume
    BP_ReloadComp ..> BP_AmmoComp : Modify
}

note right of BP_RecoilComp
    Should BP_RecoilComp be effectors? YES.
end note
```

è¯¥æ–‡ä»¶åº”æ”¾åœ¨ï¼š

```
/Docs/UML/Modules/Weapons/Weapons_Components.puml
```

---

# ğŸ§­ 9. æ¨¡å—ä¾èµ–å…³ç³»ï¼ˆDependency Rulesï¼‰

```
Core
â†‘
Modules
    Weapons
    Vehicles
    Turrets
    Seats
    Items
â†‘
UI
```

æ§åˆ¶å±‚ä¾èµ–å…³ç³»ï¼š

```
PlayerControl â†’ Interfaces â†’ (Weapons / Vehicles / Seats / Turrets)
```

---

# ğŸŒŸ 10. æ€»ç»“ï¼ˆSummaryï¼‰

æœ¬é¡¹ç›®é‡‡ç”¨ï¼š

- **æ¨¡å—åŒ–ç»“æ„**ï¼ˆWeapons / Vehicles / Turrets / Seats / Itemsï¼‰
- **åˆ†å±‚æ¶æ„**ï¼ˆCore / Modules / UIï¼‰
- **æ¥å£åˆ†ç±»è§„èŒƒ**ï¼ˆæ¨¡å—å†…éƒ¨æ¥å£ vs è·¨æ¨¡å—æ¥å£ï¼‰
- **æ¸…æ™°çš„ UML æ–‡ä»¶ç»„ç»‡**
- **é¿å…å¾ªç¯ä¾èµ–çš„æ¨¡å—è®¾è®¡**

è¿™å¥—è§„èŒƒç¡®ä¿ï¼š

- æ¨¡å—è¾¹ç•Œæ¸…æ™°  
- ä¾èµ–å…³ç³»å¯æ§  
- UML æ–‡æ¡£å¯ç»´æŠ¤  
- æ‰©å±•æ–°æ¨¡å—ä¸ä¼šç ´åç°æœ‰ç»“æ„  

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­å¸®ä½ ï¼š

- ç”Ÿæˆä¸€ä»½æ›´æ­£å¼çš„ PDF ç‰ˆè§„èŒƒ  
- ä¸ºæ¯ä¸ªæ¨¡å—ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶å¤¹  
- ä¸ºä½ çš„é¡¹ç›®ç”Ÿæˆè‡ªåŠ¨åŒ– UML ç”Ÿæˆè„šæœ¬  
- æˆ–è€…å¸®ä½ æŠŠç°æœ‰é¡¹ç›®é‡æ„æˆç¬¦åˆæ­¤è§„èŒƒçš„ç»“æ„  

ä½ æƒ³ç»§ç»­æ‰©å±•å“ªä¸€éƒ¨åˆ†ï¼Ÿ